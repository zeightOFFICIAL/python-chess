
# PyChess

## Simple and extremely buggy Chess

## ПРИМЕНЕНИЕ МИНИМАКСНОГО МЕТОДА ПРИНЯТИЯ РЕШЕНИЙ В ИГРОВЫХ МОДЕЛЯХ

### А.В. Саганенко, А.А. Куксин, А.В. Дагаев

#### Санкт-Петербургский государственный университет телекоммуникаций им. проф. М. А. Бонч-Бруевича

Минимаксный метод принятия решений является эффективным и релевантным для применения в игровых моделях. Метод располагает достаточными и необходимыми характеристиками для выбора наиболее выгодного события из доступных в ходе изменений игровых состояний и соответственно в процессе всей игры.
Основной целью данной проектной работы является практическое доказательство того, что минимаксный метод принятия решений применим внутри игровых моделей, в частности в шахматах. В свою очередь, необходимо обосновать применимость, иначе говоря, целесообразность и логичность решения, выбранного методом.
Для доказательства гипотезы, что минимаксный алгоритм применим и рационален в игровых моделях, был поэтапно проанализирован минимаксный метод принятия решений и изучена игровая логика шахмат. Далее был реализован метод внутри самой игровой модели, то-есть создан алгоритм для игры. В конечном итоге проверена релевантность и конструктивность алгоритма выстроенного на минимаксном методе.
Фактическую работоспособность, целесообразность и релевантность алгоритма и логичность выбранных им ходов из заведомо идентичных можно доказать на примере шахмат так как: шахматы — это окончательно сформированная игра с четко выверенными правилами и общемировым признанием. Что значит, что на их примере можно ясно определить являлся ли ход логичным в короткой перспективе и выгодным в длительной.
Данная проектная работа состоит из двух равных частей: теоретической и практической. Обе из которых зависят друг от друга. 
В теоретической части главной задачей является формализация шахмат, и проецирование минимакс метода на формализованную модель (игровую систему). Иначе говоря, задача заключена в математическом и логическом анализе игры, в последующем создании игровой системы и логическом, пока не практическом, встраивании метода минимакс в игровую систему. Необходимо объяснить с алгоритмической точки зрения как метод, выбирающий максимальное значение из данных минимальных, которые являются не чем иным как числовыми переменными, будет выбирать наилучший ход в игре. То-есть, объяснить связь между числом и игровым событием внутри системы.
Минимаксный алгоритм встроен в саму игру, то-есть алгоритм будет считывать доску, все возможные ходы, рассчитывать цену хода, как измениться игровая ситуация, далее он должен будет передавать полученные данные в минимаксный метод, затем метод будет рассчитывать наиболее выгодный ход и возвращать его алгоритму. Алгоритм, в конечном итоге, будет делать тот или иной ход.
В основе программы лежит алгоритм Правила принятия решений, в частности МиниМакс. Суть данного алгоритма заключается в поиске максимально выгодного положения для стороны бота. Каждая фигура имеет свою “ценность” и с учетом этой ценности, бот принимает решение о своем следующем ходе. Алгоритм МиниМакс предполагает собой построения “древа” всех возможных ходов и выбор наиболее выгодной ситуации. Так как при игре в шахматы вариация ходов очень большая, было принято решение оптимизации данного алгоритма путем ввода алгоритма Альфа-Бета отсечения.
Правило принятия решений, используемое в теории игр, теории принятия решений, исследовании операций, статистике и философии для минимизации возможных потерь из тех, которые лицо, принимающее решение, не может предотвратить при развитии событий по наихудшему для него сценарию 
Критерий минимакса первоначально был сформулирован в теории игр для игры двух лиц с нулевой суммой Джеймсом Уолдгрейвом в 1713 году, в случаях последовательных и одновременных ходов, впоследствии получил развитие в более сложных играх и при принятии решений в условиях неопределенности
Алгоритм поиска, стремится сократить количество узлов, оцениваемых в дереве поиска алгоритмом минимакса. Предназначен для антагонистических игр и используется для машинной игры (в компьютерных шахматах, компьютерном го и других). В основе алгоритма лежит идея, что оценивание ветви дерева поиска может быть досрочно прекращено (без вычисления всех значений оценивающей функции), если было найдено, что для этой ветви значение оценивающей функции в любом случае хуже, чем вычисленное для предыдущей ветви. Альфа-бета-отсечение является оптимизацией, так как не влияет на корректность работы алгоритма.
В начале работы программы пользователь выставляет настройки непосредственно через файл конфига, затем начинается игра, где пользователь делает первый ход, и затем начинается классическая игра в шахматы, при любом из возможных исходов, пользователь выбирает между выходом из программы и перезапуском игровой сессии.
Для формализованной игровой системы игры в шахматы был использован способ взвешивания игровой доски. В этом способе каждой фигуре присваивается определенный вес, после этого считается разность всех фигур черных и белых. В продвинутой системе также, используется таблица положений для каждой фигуры, в каждой клетке, где к весу данной фигуры прибавляется коэффициент положения.
Было создано три уровня сложности:
Простая оценка доски, максимально выгодный ход, без минимакса (фактическая глубина 1)
Простая оценка доски, минимакс, итеративный (фактическая глубина 2)
Продвинутая оценка доски, минимакс, рекурсивный с альфа-бета отсечением (фактическая глубина 3)
Литература

* www.chessprogramming.org \\ Chess Programming Wiki — это хранилище информации о программировании компьютеров для игры в шахматы.
* https://habr.com/ru/company/skillbox/blog/437524/ - о создании простейшего ИИ для шахмат.
* https://tproger.ru/translations/simple-chess-ai-step-by-step/ - некоторые базовые концепции, которые помогут нам создать простой искусственный интеллект, умеющий играть в шахматы.

